apiVersion: v1
kind: Pod
metadata:
  name: adapter-consumer-billing-pod
  labels:
    app: adapter-consumer-billing-pod
  annotations:
    description: "Este pod contem o adapter consumer billing da aplicacao, onde expoe as APIs para que o provedor de pagamento possa atualizar o status do pagamento do pedido"
spec:
  containers:
    - name: adapter-consumer-billing
      image: micheldossantos/adapter-consumer-billing-fast-food:latest
      ports:
        - containerPort: 8082
          protocol: TCP
      env:
        - name: PROFILE
          valueFrom:
            secretKeyRef:
              name: secrets-app
              key: PROFILE
        - name: DB_URL
          valueFrom:
            secretKeyRef:
              name: secrets-app
              key: DB_URL
        - name: DB_USER
          valueFrom:
            secretKeyRef:
              name: secrets-app
              key: DB_USER
        - name: DB_PASSWORD
          valueFrom:
            secretKeyRef:
              name: secrets-app
              key: DB_PASSWORD